<div class="msg" id="myDiv">
  <span class="alert">Item added to cart</span>
</div>
<div class="container-fluid" *ngFor="let sale of planSale">
  <div class="row d-flex justify-content-center">
    <div class="container-sale pb-2">
      <div class="row">
        <h1 class="col-12 text-center text-white">{{sale.name}} {{sale.discount}}%</h1>
        <h3 class="col-12 text-center text-white">{{getDaysLeft(sale.ends)}}</h3>
      </div>
    </div>
  </div>
  <!--Card one-->
  <div class="container">
    <div class="row">
      <div class="col-xl-3 col-lg-4 col-md-6" *ngFor="let plan of unpackPlans(sale.saleObjects)">
        <div class="card card-plan">
          <div class="card-body d-flex flex-column">
            <div class="text-center body-top">
              <img class="plan-img" src="{{plan.imageUrl}}" alt="logo">
              <h2 class="title">{{plan.title}}</h2>
              <h5 class="text-muted">< {{plan.level.name}} ></h5>
              <p class="text-center text-muted mb-0 pb-0">{{plan.description}}</p>
            </div>
            <hr>
            <h5 class="text-center">{{plan.speed | number}} mb/s</h5>
            <h6 class="text-center">Incl. <span class="badge badge-dark">{{plan.defaultLicenses.length}}</span> Licenses</h6>
            <div class="no-space-plan">
              <div class="no-space2-plan">
                <span class="sale-plan pb-2 mb-0 pt-0 mt-0 " *ngIf="plan.salePrice > 0">{{1 - plan.salePrice / plan.price | percent }}</span>
              </div>
            </div>
            <div class="container border-top border-bottom border-muted mb-2">
              <div class="row">
                <div class="col-3 text-license-list-plan" *ngFor="let license of plan.defaultLicenses">{{license}}</div>
              </div>
            </div>
            <div class="row mt-auto" *ngIf="plan.salePrice > 0">
              <div class="col-8 move-sale-price-plan">
                <h6 class="old-price-plan text-muted">OLD: {{plan.price | currency}}<br></h6>
                <h6>NOW: <span class="font-weight-bold">{{plan.salePrice | currency}}</span></h6>
              </div>
              <div class="col">
                <a class="btn btn-block btn-outline-dark btn-plan mb-1" role="button" (click)="addPlan(plan)">
                  BUY
                </a>
              </div>
            </div>
            <div class="row mt-auto" *ngIf="plan.salePrice === 0">
              <div class="col-8">
                <h5 class="move-price-plan font-weight-bold">{{plan.salePrice | currency}}</h5>
              </div>
              <div class="col">
                <a class="btn btn-block btn-outline-dark btn-plan mb-1" role="button" (click)="addPlan(plan)">
                  BUY
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="col-sm-12 d-flex justify-content-center mt-5" *ngFor="let sale of licenseSale">
  <div class="row">
    <h1 class="col-sm-12 text-center">{{sale.name}} {{sale.discount}}%</h1>
    <h3 class="col-sm-12 text-center">{{getDaysLeft(sale.ends)}}</h3>
    <div class="col" *ngFor="let license of unpackLicenses(sale.saleObjects)" id="er">
      <div class="card">
        <!--  IMAGE -->
        <div class="card-top">
          <img class="img-fluid" src="{{license.imageUrl}}" alt="Card image cap">
        </div>

        <!--    BODY-->
        <div class="card-body">
          <h5 class="card-title">{{license.title}}</h5>
          <p class="card-text">{{license.tag.name}}</p>
          <p class="card-text">{{license.format.name}}</p>
          <p class="card-text">{{license.description}}</p>
          <br>
          <span>Sale: {{sale.name}}</span>
          <br>
          <p *ngIf="license.quantity == 0" class="card-stock mb-2"><i class="fa fa-square null"></i> out of stock</p>
          <p *ngIf="license.quantity != 0" class="card-stock mb-2"><i class="fa fa-square"></i> {{license.quantity}} in
            stock</p>
        </div>
        <!--      FOOTER-->
        <div class="card-footer">
          <p class="price">
            <span class="before">{{license.price | currency}}</span>
            <span class="after">{{license.salePrice | currency}}</span>
            <a *ngIf="license.quantity > 0" class="btn btn-sm float-right" id="buy2" (click)="addLicense(license)">
              Buy
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
